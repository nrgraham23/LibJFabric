#above and below is a \ separated list

#JNI_CLASSES = \
	org.ofi.libfab_java_bindings.HelloJNI

#
# Maven sets JAVA_HOME aka java.home to ${JAVA_HOME}/jre wow !!! need to add a funky include for this.
#

CFLAGS=-g -I${JAVA_HOME}/include -I${JAVA_HOME}/include/darwin

LDFLAGS= #-ldl

all: libhello.dylib

libhello.dylib: HelloJNI.o
	gcc ${CFLAGS} -dynamiclib HelloJNI.o -o libhello.dylib  ${LDFLAGS}

HelloJNI.o: HelloJNI.c
	gcc -c ${CFLAGS} HelloJNI.c

clean:
	rm -f *.class *.o
	rm -f libhello.so
	rm -f org_*.h

#test:
#	javac -g -Xlint:deprecation -classpath ${CLASSPATH} Test.java